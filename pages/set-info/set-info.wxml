<!--pages/set-info/set-info.wxml-->
<!--<import src="./view/guide.wxml"></import>-->
<import src="./view/fatBurnCard.wxml"></import>
<import src="./view/bodyIndexCard.wxml"></import>
<import src="./view/HIITCard.wxml"></import>
<import src="./view/foodVideo.wxml"></import>
<import src="./view/readyTask.wxml"></import>
<import src="./view/caseFinished.wxml"></import>
<view class="page" style="background-color: {{bgColorSetInfoPage}}">
  <block wx:if="{{showNewInfo}}">
    <my-swiper wx:if="{{showGuide}}"></my-swiper>
    <view wx:if="{{showGuide}}" class="middle-view">慢慢减脂路上·你是否也遇这些困扰</view>
    <view wx:if="{{showGuide}}" class="flex-row" style="margin-top: 50rpx;margin-left:90rpx;align-items: self-start">
      <image wx:if="{{showGuide}}" class="page1-image1 " src="../../images/set-info/page1-up.png"></image>
      <view wx:if="{{showGuide}}" class="guide-text">
        <text>只要有正确的思维方式\n任何合理的饮食和运动方式都可以\n让你减脂</text>
      </view>
      <image wx:if="{{showGuide}}" class="page1-image1" src="../../images/set-info/page1-down.png"></image>
    </view>
    <button wx:if="{{showGuide}}" class="guide-startBtn" hover-class="press-style" bindtap="toSetInfo">立即体验</button>
    <view wx:if="{{showGoclockin}}" style="text-align: center">
      <image class="showGoclockin-imgB" src="../../images/set-info/empty.png"></image>
      <view class="showGoclockin-text">暂未开启打卡</view>
      <view class="showGoclockin-startView" hover-class="press-style" bindtap="goRegister">
        开启打卡
      </view>
    </view>
  </block>
  <block wx:else>
    <view class="set-top-view" wx:if="{{caseonEveryday}}">
      <image src="../../images/lowFatReport/bg.png" class="bg"></image>
      <!-- <view wx:if="{{caseOnReady}}" class="set-top-content" style="float: left;width: 150rpx">准备日</view>-->
      <view class="set-info-top">
        <view style="float: left">
          <view class="set-info-top-text1">你已在此</view>
          <view class="set-info-top-text2">坚持减脂打卡</view>
        </view>
        <view style="float: right">
          <text class="set-info-top-text3">{{days}}</text>
          <text class="set-info-top-text1">天</text>
        </view>
        <!--  -->


      </view>
    </view>
    <view wx:if="{{caseOnReady}}" style="width: 100%;box-sizing: border-box;padding: 110rpx 30rpx 0rpx 30rpx">
      <view class="caseOnReady-title">新手任务</view>
      <view class="caseOnReady-number">{{indexfinishNum}}/{{indextaskNum}}</view>
      <view class="clear"></view>
      <view class="caseOnReady-subtitle">在正式燃脂之前，你需要了解</view>
      <view wx:for="{{taskListAll}}" wx:key="index">
        <template is="readyTask" wx:if="{{item.type =='howBreath'}}" data="{{...item}}"></template>
        <template is="readyTask" wx:if="{{item.type =='whatNoteworthy'}}" data="{{...item}}"></template>
        <template is="readyTask" wx:if="{{item.type =='howClockIn'}}" data="{{...item}}"></template>
      </view>
    </view>
    <view class="flex-column" style="margin-top: -210rpx;padding: 0rpx 30rpx;position: relative;z-index: 50;">
      <view class="bigTruth">
        <view class="bigTruthTit">
          <text>#减脂大实话#</text>
          <image src="../../images/set-info/rjjx.png" class="rjjx"></image>
        </view>
        <view class="bigTruthCon">{{answerData.answerDatabaseBean.tips}}</view>
        <view class="btnCon" wx:if="{{answerData.isAnswer == 0}}">
          <view bindtap="answerFinish" wx:for="{{answerBtns}}" data-index="{{index}}">
            <image src='{{item.imgSrc}}'></image>
            <text>{{item.text}}</text>
          </view>
        </view>
        <view class="answerCon" wx:else>
          <view class="answerTit answerRight" wx:if="{{answerData.isCorrect == 1}}">
            <image class="answerImg" src="../../images/set-info/right.png"></image><text>答对啦！</text>
          </view>
          <view class="answerTit answerError" wx:else>
            <image class="answerImg " src="../../images/set-info/error.png"></image><text>答错啦...</text>
          </view>
          <view class="answerDetails">
            <view class="answerResult">正确答案：{{answerData.answerDatabaseBeanstandardAnswer?'Yes':'NO'}}</view>
            <view>{{answerData.answerDatabaseBean.explanation}}</view>
          </view>
          <view class="answerRecord">已答对{{answerData.correctCount}}题 · 答题正确率 <text>{{answerData.correctRate}}%</text></view>
        </view>
      </view>
      <view class="flex-column-item">
        <view class="set-info-top-text4">今日任务</view>
        <view class="todayReport" style="position: relative;z-index: 50;" bindtap="goLowFatReport">
          <image style="width: 26rpx;height: 24rpx;margin-right: 10rpx" src="{{taskTopimg}}"></image>
          <text class="set-info-top-text5">{{taskToptext}}</text>
        </view>
      </view>
      <view class="clear" style="margin-bottom: 28rpx"></view>
      <view wx:if="{{caseonFinished}}" style="width: 100%;" class="caseonFinished-view">
        <template is="caseonFinished" data="{{planInfo}}"></template>
      </view>
      <view wx:if="{{caseonEveryday}}" wx:for="{{taskListAll}}" wx:key="index" style="width: 100%">
        <template is="fatBurnCard" wx:if="{{item.type =='fatBurn'}}" data="{{hiddenFat,fatBurnTask,fatText,fatTextEn,score,fatDes,bgColorSetInfoPage,fatType}}"></template>
        <template is="bodyIndexCard" wx:if="{{item.type =='bodyIndex'}}" data="{{bodyIndexTask,bodyIndexExt}}"></template>
        <template is="HIITCard" wx:if="{{item.type =='sport'}}" data="{{sportTask,sportExt,aheight,currentSwiper,hiddenImg,grayLeft,grayRight}}"></template>
        <foodCard wx:if="{{item.type =='food'}}" class="countdown" foodTask="{{foodTask}}" foodExt="{{foodExt}}" foodAheight="{{foodAheight}}" foodHiddenImg="{{foodHiddenImg}}" isGroup="{{isGroup}}" foodcurrentSwiper="{{foodcurrentSwiper}}"></foodCard>
      </view>
      <view wx:if="{{caseonEveryday}}" class="set-info-content-text1">减脂怎么吃</view>
      <view wx:if="{{caseonEveryday}}" class="set-info-content-img" bindtap="toRuler">
        <view class="set-info-content-text2">我要怎么吃？</view>
        <view class="set-info-content-text3">代餐有哪些？外卖怎么选？如何自己做减脂餐？</view>
      </view>
    </view>
  </block>
  <!--position: fixed;left: 900rpx;-->
  <!--  <canvas style="width:{{windowWidth}}rpx;height:{{canvasHeight}}rpx;position: fixed;left: 900rpx;" canvas-id="myCanvas"></canvas>-->
</view>

<view wx:if="{{showBigTip}}" class="flex-column">
  <view class="tip-full"></view>
  <view class="tip-view flex-column">
    <view class="tip-view-title">正在上传检测记录</view>
    <view class="tip-view-content">{{sync.num}}/{{sync.countNum}}</view>
  </view>
</view>
<!--非首次打卡完成toast弹窗-->
<my-toast wx:if="{{showMytoast}}" toastType="{{toastType}}" integral="{{integral}}" inTaskProgress="{{inTaskProgress}}" integralTaskTitle="{{integralTaskTitle}}">

</my-toast>
<!--首次打卡完成激励弹窗-->
<exciting-window wx:if="{{showExcitation}}" bind:getShowExcitation="getShowExcitation" toastType="{{toastType}}" toastResult="{{toastResult}}">
</exciting-window>

<!--底部弹窗-->
<view class="commodity_screen" bindtap="hideModal" wx:if="{{showModalStatus}}"></view>
<view animation="{{animationData}}" class="commodity_attr_box" wx:if="{{showModalStatus}}">
  <view class="commodity_title">请输入当前体重</view>
  <view class="clear"></view>
  <view style="height: 20rpx;width:100%;border-bottom: 1px #F2F2F2 solid;margin-bottom: 98rpx"></view>
  <view class="commodity_part">
    <input class="commodity_input" placeholder-class="commodity_inputpla" bindinput="bindWeightInput" maxlength="5" name='weight' placeholder="" type="digit" />
    <view class="commodity_line"></view>
    <view class="commodity_KG">KG</view>
    <view class="commodity_save" bindtap="saveWeight">保存</view>
    <view class="clear"></view>
  </view>
</view>

<!--底部弹窗-->
<view class="shareContainer" wx:if='{{isOpened}}'>
  <!-- <view class='shareRow'>{{title}}</view>-->
  <button class='shareRow' open-type='share' wx:key data-idx='{{index}}' bindtap='handClick'>分享给好友或群</button>
  <view class='shareRow margin-top' bindtap='cancel' style="font-size: 18px">取 消</view>
</view>
<view class='shareMask' wx:if='{{isOpened}}' bindtap='cancel'></view>